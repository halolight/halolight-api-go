<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HaloLight API Documentation</title>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5/swagger-ui.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ”µ</text></svg>">
  <style>
    html { box-sizing: border-box; overflow-y: scroll; }
    *, *:before, *:after { box-sizing: inherit; }
    body { margin: 0; background: #fafafa; }
    .swagger-ui .topbar { display: none; }
  </style>
</head>
<body>
  <div id="swagger-ui"></div>
  <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-bundle.js"></script>
  <script src="https://unpkg.com/swagger-ui-dist@5/swagger-ui-standalone-preset.js"></script>
  <script>
    window.onload = function() {
      const ui = SwaggerUIBundle({
        spec: {
          openapi: "3.0.0",
          info: {
            title: "HaloLight API",
            version: "1.0.0",
            description: "HaloLight Admin System Backend API - Go/Gin implementation",
            contact: {
              name: "HaloLight Team",
              email: "h7ml@qq.com"
            },
            license: {
              name: "MIT License",
              url: "https://opensource.org/licenses/MIT"
            }
          },
          servers: [
            { url: "http://localhost:8000", description: "Local Development Server" },
            { url: "https://api-go.halolight.h7ml.cn", description: "Production Server" }
          ],
          components: {
            securitySchemes: {
              bearerAuth: {
                type: "http",
                scheme: "bearer",
                bearerFormat: "JWT",
                description: "Enter your JWT token"
              }
            },
            schemas: {
              SuccessResponse: {
                type: "object",
                properties: {
                  success: { type: "boolean", example: true },
                  data: { type: "object" },
                  message: { type: "string" }
                }
              },
              ErrorResponse: {
                type: "object",
                properties: {
                  success: { type: "boolean", example: false },
                  error: { type: "string" }
                }
              },
              LoginRequest: {
                type: "object",
                required: ["email", "password"],
                properties: {
                  email: { type: "string", format: "email", example: "admin@halolight.h7ml.cn" },
                  password: { type: "string", minLength: 6, example: "password123" }
                }
              },
              User: {
                type: "object",
                properties: {
                  id: { type: "string" },
                  email: { type: "string" },
                  name: { type: "string" },
                  avatar: { type: "string" },
                  status: { type: "string", enum: ["ACTIVE", "INACTIVE", "SUSPENDED"] },
                  createdAt: { type: "string", format: "date-time" },
                  updatedAt: { type: "string", format: "date-time" }
                }
              }
            }
          },
          tags: [
            { name: "Auth", description: "Authentication endpoints" },
            { name: "Users", description: "User management" },
            { name: "Roles", description: "Role management" },
            { name: "Permissions", description: "Permission management" },
            { name: "Teams", description: "Team management" },
            { name: "Documents", description: "Document management" },
            { name: "Files", description: "File management" },
            { name: "Folders", description: "Folder management" },
            { name: "Calendar", description: "Calendar events" },
            { name: "Notifications", description: "Notification management" },
            { name: "Messages", description: "Message management" },
            { name: "Dashboard", description: "Dashboard statistics" }
          ],
          paths: {
            "/api/auth/login": {
              post: {
                tags: ["Auth"],
                summary: "User login",
                description: "Authenticate user and return JWT tokens",
                requestBody: {
                  required: true,
                  content: {
                    "application/json": {
                      schema: { "$ref": "#/components/schemas/LoginRequest" }
                    }
                  }
                },
                responses: {
                  "200": { description: "Login successful" },
                  "401": { description: "Invalid credentials" }
                }
              }
            },
            "/api/auth/register": {
              post: {
                tags: ["Auth"],
                summary: "User registration",
                responses: {
                  "201": { description: "Registration successful" },
                  "400": { description: "Validation error" }
                }
              }
            },
            "/api/auth/refresh": {
              post: {
                tags: ["Auth"],
                summary: "Refresh access token",
                responses: {
                  "200": { description: "Token refreshed" },
                  "401": { description: "Invalid refresh token" }
                }
              }
            },
            "/api/auth/me": {
              get: {
                tags: ["Auth"],
                summary: "Get current user",
                security: [{ bearerAuth: [] }],
                responses: {
                  "200": { description: "Current user info" },
                  "401": { description: "Unauthorized" }
                }
              }
            },
            "/api/auth/logout": {
              post: {
                tags: ["Auth"],
                summary: "User logout",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Logout successful" } }
              }
            },
            "/api/users": {
              get: {
                tags: ["Users"],
                summary: "List users",
                security: [{ bearerAuth: [] }],
                parameters: [
                  { name: "page", in: "query", schema: { type: "integer", default: 1 } },
                  { name: "limit", in: "query", schema: { type: "integer", default: 10 } },
                  { name: "search", in: "query", schema: { type: "string" } }
                ],
                responses: { "200": { description: "User list with pagination" } }
              },
              post: {
                tags: ["Users"],
                summary: "Create user",
                security: [{ bearerAuth: [] }],
                responses: { "201": { description: "User created" } }
              }
            },
            "/api/users/{id}": {
              get: {
                tags: ["Users"],
                summary: "Get user by ID",
                security: [{ bearerAuth: [] }],
                parameters: [{ name: "id", in: "path", required: true, schema: { type: "string" } }],
                responses: {
                  "200": { description: "User details" },
                  "404": { description: "User not found" }
                }
              },
              patch: {
                tags: ["Users"],
                summary: "Update user",
                security: [{ bearerAuth: [] }],
                parameters: [{ name: "id", in: "path", required: true, schema: { type: "string" } }],
                responses: { "200": { description: "User updated" } }
              },
              delete: {
                tags: ["Users"],
                summary: "Delete user",
                security: [{ bearerAuth: [] }],
                parameters: [{ name: "id", in: "path", required: true, schema: { type: "string" } }],
                responses: { "200": { description: "User deleted" } }
              }
            },
            "/api/roles": {
              get: {
                tags: ["Roles"],
                summary: "List roles",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Role list" } }
              },
              post: {
                tags: ["Roles"],
                summary: "Create role",
                security: [{ bearerAuth: [] }],
                responses: { "201": { description: "Role created" } }
              }
            },
            "/api/permissions": {
              get: {
                tags: ["Permissions"],
                summary: "List permissions",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Permission list" } }
              }
            },
            "/api/teams": {
              get: {
                tags: ["Teams"],
                summary: "List teams",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Team list" } }
              }
            },
            "/api/documents": {
              get: {
                tags: ["Documents"],
                summary: "List documents",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Document list" } }
              }
            },
            "/api/files": {
              get: {
                tags: ["Files"],
                summary: "List files",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "File list" } }
              }
            },
            "/api/folders": {
              get: {
                tags: ["Folders"],
                summary: "List folders",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Folder list" } }
              }
            },
            "/api/calendar/events": {
              get: {
                tags: ["Calendar"],
                summary: "List calendar events",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Event list" } }
              }
            },
            "/api/notifications": {
              get: {
                tags: ["Notifications"],
                summary: "List notifications",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Notification list" } }
              }
            },
            "/api/messages/conversations": {
              get: {
                tags: ["Messages"],
                summary: "List conversations",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Conversation list" } }
              }
            },
            "/api/dashboard/stats": {
              get: {
                tags: ["Dashboard"],
                summary: "Get dashboard statistics",
                security: [{ bearerAuth: [] }],
                responses: { "200": { description: "Dashboard stats" } }
              }
            }
          }
        },
        dom_id: '#swagger-ui',
        deepLinking: true,
        presets: [
          SwaggerUIBundle.presets.apis,
          SwaggerUIStandalonePreset
        ],
        plugins: [
          SwaggerUIBundle.plugins.DownloadUrl
        ],
        layout: "StandaloneLayout",
        persistAuthorization: true,
        tagsSorter: "alpha",
        operationsSorter: "alpha"
      });
      window.ui = ui;
    };
  </script>
</body>
</html>
